<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>dsUpload â€¢ dsUpload</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="dsUpload">
<meta property="og:description" content="dsUpload">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsUpload</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/dsUpload.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/betaDictionaries.html">Beta dictionaries</a>
    </li>
    <li>
      <a href="../articles/dataVersioning.html">Data versioning</a>
    </li>
    <li>
      <a href="../articles/dictionaryVersioning.html">Dictionairy versioning</a>
    </li>
    <li>
      <a href="../articles/qualityControl.html">Quality control</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lifecycle-project/ds-upload/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>dsUpload</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lifecycle-project/ds-upload/blob/HEAD/vignettes/dsUpload.Rmd" class="external-link"><code>vignettes/dsUpload.Rmd</code></a></small>
      <div class="hidden name"><code>dsUpload.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="datashield-upload-tools">DataSHIELD upload tools<a class="anchor" aria-label="anchor" href="#datashield-upload-tools"></a>
</h2>
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>The aim of the EU Child Cohort Network is to bring together data from
existing child cohorts into one open and sustainable, multi-disciplinary
network. To ensure sure that the EU Child Cohort Network is both open
and sustainable, the consortia are using the data-sharing platform
DataSHIELD.</p>
<p>Participating cohorts must harmonise data, following the data
harmonisation manuals. Secondly, perform quality-control checks on their
harmonised data. Thirdly, upload descriptions of harmonisation to the
cohort catalogue. The last step is uploading the data into the
DataSHIELD backends. The guide below guides you through the process.</p>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Reference documentation:</p>
<ul>
<li><a href="https://lifecycle-project.github.io/ds-upload" class="external-link">dsUpload</a></li>
<li><a href="http://molgenis.github.io/molgenis-r-armadillo" class="external-link">Armadillo</a></li>
<li><a href="http://opaldoc.obiba.org/en/latest/r-user-guide/datashield.html" class="external-link">Opal</a></li>
</ul>
<p>You can install the package by executing the following commands:</p>
<p>Step 1: install devtools</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span></code></pre></div>
<p>Step 2: load devtools and install ds-upload</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"lifecycle-project/ds-upload"</span><span class="op">)</span></span></code></pre></div>
<p>When you want to use it you need to load it.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lifecycle-project/ds-upload" class="external-link">dsUpload</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: DSI</span></span>
<span><span class="co">#&gt; Loading required package: progress</span></span>
<span><span class="co">#&gt; Loading required package: R6</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h3>
<p>Check: <a href="https://github.com/lifecycle-project/ds-upload/blob/master/TROUBLESHOOTING.md" class="external-link">troubleshooting
guide</a></p>
</div>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<p>To simplify the upload and importing of data dictionaries this
package is written to import and upload the data dictionaries and data
in one run. When running the package, you need to specify the data
dictionary version and the data input file. When you use data formats
other than CSV use need to specify the data format as well</p>
<p><strong>Prerequisites</strong></p>
<ul>
<li>
<p>Upload core variables</p>
<p>Merge all the variables that are obtained in the dictionary of the
core variables. So in general that means merge the data of WP1 and WP3
into one set.</p>
</li>
<li>
<p>Upload outcome variables</p>
<p>Merge all the variables that are obtained in the dictionary of the
outcome variables. So in general this means merge the data of WP4, WP5
and WP6 into one set.</p>
</li>
</ul>
<div class="section level4">
<h4 id="using-armadillo">Using Armadillo<a class="anchor" aria-label="anchor" href="#using-armadillo"></a>
</h4>
<p>Please following the instruction below to upload the core and outcome
variables in the Aramdillo.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">login_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"https://armadillo.test.molgenis.org"</span>, </span>
<span>  storage <span class="op">=</span> <span class="st">"https://armadillo-minio.test.molgenis.org"</span>, </span>
<span>  driver <span class="op">=</span> <span class="st">"ArmadilloDriver"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># login to the Armadillo server</span></span>
<span><span class="fu"><a href="../reference/du.login.html">du.login</a></span><span class="op">(</span>login_data <span class="op">=</span> <span class="va">login_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   [WARNING] You are not running the latest version of the dsUpload-package.</span></span>
<span><span class="co">#&gt;   [WARNING] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span><span class="co">#&gt;   [WARNING] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span><span class="co">#&gt;   [WARNING] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   Login to: "https://armadillo.test.molgenis.org"</span></span>
<span><span class="co">#&gt; [1] "We're opening a browser so you can log in with code GFL6Q6"</span></span>
<span><span class="co">#&gt;   Logged on to: "https://armadillo.test.molgenis.org"</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># upload the data into the DataSHIELD backend</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># these are the core variables</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># be advised the default input format is 'CSV'</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># you can use STATA, SPSS, SAS, CSV's or R as source files</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">du.upload</span>(</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cohort_id =</span> <span class="st">'gecko'</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dict_version =</span> <span class="st">'2_1'</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">dict_kind =</span> <span class="st">'core'</span>, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_version =</span> <span class="st">'1_0'</span>, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_input_format =</span> <span class="st">'CSV'</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_input_path =</span> <span class="st">'https://github.com/lifecycle-project/ds-upload/blob/master/inst/examples/data/WP1/data/all_measurements_v1_2.csv?raw=true'</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">run_mode =</span> <span class="st">"non_interactive"</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***********************************************************************************</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] You are not running the latest version of the dsUpload-package.</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***********************************************************************************</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start upload data into DataSHIELD backend</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Create temporary workdir</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start download dictionaries</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 2_1_monthly_rep.xlsx ]</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 2_1_non_rep.xlsx ]</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 2_1_trimester_rep.xlsx ]</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 2_1_yearly_rep.xlsx ]</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Successfully downloaded dictionaries</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start importing data dictionaries</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Check released dictionaries</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Project : gecko already exists</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start converting and uploading data</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Setup: load data and set output directory</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [</span><span class="al">WARNING</span><span class="co">] This is an unmatched column, it will be dropped : [ art ].</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: non-repeated measures</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: yearly-repeated measures</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: monthly-repeated measures</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: trimesterly-repeated measures</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 2_1_core_1_0 into project: gecko</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 2_1_core_1_0/trimester</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 2_1_core_1_0 into project: gecko</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========</span>                                                              <span class="er">|</span>  <span class="dv">15</span>%</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=====================</span>                                                   <span class="er">|</span>  <span class="dv">29</span>%</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================</span>                                         <span class="er">|</span>  <span class="dv">44</span>%</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================================</span>                              <span class="er">|</span>  <span class="dv">58</span>%</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================</span>                    <span class="er">|</span>  <span class="dv">73</span>%</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================================================</span>         <span class="er">|</span>  <span class="dv">87</span>%</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 2_1_core_1_0/non_rep</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 2_1_core_1_0 into project: gecko</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 2_1_core_1_0/yearly_rep</span></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 2_1_core_1_0 into project: gecko</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 2_1_core_1_0/monthly_rep</span></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Converting and import successfully finished</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Reinstate default working directory</span></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Cleanup temporary directory</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># upload the outcome variables</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">du.upload</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cohort_id =</span> <span class="st">'gecko'</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dict_version =</span> <span class="st">'1_1'</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">dict_kind =</span> <span class="st">'outcome'</span>, </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_version =</span> <span class="st">'1_0'</span>, </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_input_format =</span> <span class="st">'CSV'</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_input_path =</span> <span class="st">'https://github.com/lifecycle-project/ds-upload/blob/master/inst/examples/data/WP6/nd_data_wp6.csv?raw=true'</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">run_mode =</span> <span class="st">"non_interactive"</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***********************************************************************************</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] You are not running the latest version of the dsUpload-package.</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [</span><span class="al">WARNING</span><span class="co">] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ***********************************************************************************</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start upload data into DataSHIELD backend</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Create temporary workdir</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start download dictionaries</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 1_1_monthly_rep.xlsx ]</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 1_1_non_rep.xlsx ]</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 1_1_weekly_rep.xlsx ]</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Download: [ 1_1_yearly_rep.xlsx ]</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Successfully downloaded dictionaries</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start importing data dictionaries</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Check released dictionaries</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Project : gecko already exists</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Start converting and uploading data</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Setup: load data and set output directory</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ------------------------------------------------------</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: non-repeated measures</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: yearly-repeated measures</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: monthly-repeated measures</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Generating: weekly-repeated measures</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 1_1_outcome_1_0 into project: gecko</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 1_1_outcome_1_0/weekly_rep</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 1_1_outcome_1_0 into project: gecko</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 1_1_outcome_1_0/non_rep</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 1_1_outcome_1_0 into project: gecko</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======</span>                                                                  <span class="er">|</span>   <span class="dv">8</span>%</span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===========</span>                                                             <span class="er">|</span>  <span class="dv">16</span>%</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=================</span>                                                       <span class="er">|</span>  <span class="dv">24</span>%</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================</span>                                                 <span class="er">|</span>  <span class="dv">31</span>%</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================</span>                                            <span class="er">|</span>  <span class="dv">39</span>%</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================</span>                                      <span class="er">|</span>  <span class="dv">47</span>%</span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================</span>                                <span class="er">|</span>  <span class="dv">55</span>%</span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================================</span>                           <span class="er">|</span>  <span class="dv">63</span>%</span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================================</span>                     <span class="er">|</span>  <span class="dv">71</span>%</span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================================</span>               <span class="er">|</span>  <span class="dv">79</span>%</span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============================================================</span>          <span class="er">|</span>  <span class="dv">86</span>%</span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================================</span>    <span class="er">|</span>  <span class="dv">94</span>%</span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 1_1_outcome_1_0/yearly_rep</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Start importing: 1_1_outcome_1_0 into project: gecko</span></span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Compressing...</span></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                        <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                              </span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Uploaded 1_1_outcome_1_0/monthly_rep</span></span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * Import finished successfully</span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Converting and import successfully finished</span></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ######################################################</span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Reinstate default working directory</span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Cleanup temporary directory</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="using-opal">Using Opal<a class="anchor" aria-label="anchor" href="#using-opal"></a>
</h4>
<p>A video guiding you through the process can be found here:</p>
<p>Check youtube channel: <a href="https://youtu.be/fUrpbstPCsU" class="external-link">upload
data dictionaries and data into Opal</a></p>
<p>Alternatively, execute these commands in your R-console:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">login_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"https://opal.edge.molgenis.org"</span>, </span>
<span>  user <span class="op">=</span> <span class="st">"administrator"</span>, </span>
<span>  password <span class="op">=</span> <span class="st">"ouf0uPh6"</span>,</span>
<span>  driver <span class="op">=</span> <span class="st">"OpalDriver"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># login to the DataSHIELD backend</span></span>
<span><span class="fu"><a href="../reference/du.login.html">du.login</a></span><span class="op">(</span>login_data <span class="op">=</span> <span class="va">login_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   [WARNING] You are not running the latest version of the dsUpload-package.</span></span>
<span><span class="co">#&gt;   [WARNING] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span><span class="co">#&gt;   [WARNING] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span><span class="co">#&gt;   [WARNING] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   Login to: "https://opal.edge.molgenis.org"</span></span>
<span><span class="co">#&gt;   Logged on to: "https://opal.edge.molgenis.org"</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload the data into the DataSHIELD backend</span></span>
<span><span class="co"># these are the core variables</span></span>
<span><span class="co"># be advised the default input format is 'CSV'</span></span>
<span><span class="co"># you can use STATA, SPSS, SAS and CSV's as source files</span></span>
<span><span class="fu"><a href="../reference/du.upload.html">du.upload</a></span><span class="op">(</span></span>
<span>  cohort_id <span class="op">=</span> <span class="st">'gecko'</span>, </span>
<span>  dict_version <span class="op">=</span> <span class="st">'2_1'</span>, </span>
<span>  dict_kind <span class="op">=</span> <span class="st">'core'</span>, </span>
<span>  data_version <span class="op">=</span> <span class="st">'1_0'</span>, </span>
<span>  data_input_format <span class="op">=</span> <span class="st">'CSV'</span>,</span>
<span>  data_input_path <span class="op">=</span> <span class="st">'https://github.com/lifecycle-project/ds-upload/blob/master/inst/examples/data/WP1/data/all_measurements_v1_2.csv?raw=true'</span>,</span>
<span>  run_mode <span class="op">=</span> <span class="st">"non_interactive"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   [WARNING] You are not running the latest version of the dsUpload-package.</span></span>
<span><span class="co">#&gt;   [WARNING] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span><span class="co">#&gt;   [WARNING] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span><span class="co">#&gt;   [WARNING] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start upload data into DataSHIELD backend</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;  * Create temporary workdir</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start download dictionaries</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; * Download: [ 2_1_monthly_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 2_1_non_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 2_1_trimester_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 2_1_yearly_rep.xlsx ]</span></span>
<span><span class="co">#&gt;   Successfully downloaded dictionaries</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start importing data dictionaries</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;  * Check released dictionaries</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;   Start creating project: [ lc_gecko_core_2_1 ]</span></span>
<span><span class="co">#&gt; * Project: [ lc_gecko_core_2_1 ] already exists</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;   Start importing dictionaries</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_monthly_rep ] already exists</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_monthly_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_non_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_non_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_non_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_trimester_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_trimester_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_trimester_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_yearly_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_yearly_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_yearly_rep ]</span></span>
<span><span class="co">#&gt;   All dictionaries are populated correctly</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start converting and uploading data</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt; * Setup: load data and set output directory</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; [WARNING] This is an unmatched column, it will be dropped : [ art ].</span></span>
<span><span class="co">#&gt; * Generating: non-repeated measures</span></span>
<span><span class="co">#&gt; * Generating: yearly-repeated measures</span></span>
<span><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span><span class="co">#&gt; * Generating: monthly-repeated measures</span></span>
<span><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span><span class="co">#&gt; * Generating: trimesterly-repeated measures</span></span>
<span><span class="co">#&gt; Aggregate function missing, defaulting to 'length'</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-40-58_1_0_trimester_repeated_measures.csv ] to directory [ core ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-40-58_1_0_non_repeated_measures.csv ] to directory [ core ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-40-58_1_0_yearly_repeated_measures.csv ] to directory [ core ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-40-58_1_0_monthly_repeated_measures.csv ] to directory [ core ]</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Converting and import successfully finished</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;  * Reinstate default working directory</span></span>
<span><span class="co">#&gt;  * Cleanup temporary directory</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># upload the outcome variables</span></span>
<span><span class="fu"><a href="../reference/du.upload.html">du.upload</a></span><span class="op">(</span></span>
<span>  cohort_id <span class="op">=</span> <span class="st">'gecko'</span>, </span>
<span>  dict_version <span class="op">=</span> <span class="st">'1_1'</span>, </span>
<span>  dict_kind <span class="op">=</span> <span class="st">'outcome'</span>, </span>
<span>  data_version <span class="op">=</span> <span class="st">'1_0'</span>, </span>
<span>  data_input_format <span class="op">=</span> <span class="st">'CSV'</span>,</span>
<span>  data_input_path <span class="op">=</span> <span class="st">'https://github.com/lifecycle-project/ds-upload/blob/master/inst/examples/data/WP6/nd_data_wp6.csv?raw=true'</span>,</span>
<span>  run_mode <span class="op">=</span> <span class="st">"non_interactive"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt;   [WARNING] You are not running the latest version of the dsUpload-package.</span></span>
<span><span class="co">#&gt;   [WARNING] If you want to upgrade to newest version : [ 4.0.6 ],</span></span>
<span><span class="co">#&gt;   [WARNING] Please run 'install.packages("dsUpload", repos = "https://registry.molgenis.org/repository/R/")'</span></span>
<span><span class="co">#&gt;   [WARNING] Check the release notes here: https://github.com/lifecycle-project/analysis-protocols/releases/tag/4.0.6</span></span>
<span><span class="co">#&gt; ***********************************************************************************</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start upload data into DataSHIELD backend</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;  * Create temporary workdir</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start download dictionaries</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; * Download: [ 1_1_monthly_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 1_1_non_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 1_1_weekly_rep.xlsx ]</span></span>
<span><span class="co">#&gt; * Download: [ 1_1_yearly_rep.xlsx ]</span></span>
<span><span class="co">#&gt;   Successfully downloaded dictionaries</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start importing data dictionaries</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;  * Check released dictionaries</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;   Start creating project: [ lc_gecko_outcome_1_1 ]</span></span>
<span><span class="co">#&gt; * Project: [ lc_gecko_outcome_1_1 ] already exists</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt;   Start importing dictionaries</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_monthly_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_monthly_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_monthly_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_non_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_non_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_non_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_weekly_rep ] already exists</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_weekly_rep ]</span></span>
<span><span class="co">#&gt; * Table: [ 1_0_yearly_rep ] already exists</span></span>
<span><span class="co">#&gt; * Matched categories for table: [ 1_0_yearly_rep ]</span></span>
<span><span class="co">#&gt; * Import variables into: [ 1_0_yearly_rep ]</span></span>
<span><span class="co">#&gt;   All dictionaries are populated correctly</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Start converting and uploading data</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt; * Setup: load data and set output directory</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; * Generating: non-repeated measures</span></span>
<span><span class="co">#&gt; * Generating: yearly-repeated measures</span></span>
<span><span class="co">#&gt; * Generating: monthly-repeated measures</span></span>
<span><span class="co">#&gt; * Generating: weekly-repeated measures</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-41-21_1_0_weekly_repeated_measures.csv ] to directory [ outcome ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-41-21_1_0_non_repeated_measures.csv ] to directory [ outcome ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-41-21_1_0_yearly_repeated_measures.csv ] to directory [ outcome ]</span></span>
<span><span class="co">#&gt; * Upload: [ 2021-01-29_11-41-21_1_0_monthly_repeated_measures.csv ] to directory [ outcome ]</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;   Converting and import successfully finished</span></span>
<span><span class="co">#&gt; ######################################################</span></span>
<span><span class="co">#&gt;  * Reinstate default working directory</span></span>
<span><span class="co">#&gt;  * Cleanup temporary directory</span></span></code></pre></div>
<blockquote>
<p><strong>IMPORTANT</strong>: You can run this package for the core
variables and for the outcome variables. Each of them requires changing
some parameters in the function call. So dict_kind specific â€˜coreâ€™ or
â€˜outcomeâ€™ variables and dict_version specifies the data dictionary
version (check the changelogs here: <a href="https://github.com/lifecycle-project/ds-dictionaries/tree/master/changelogs" class="external-link uri">https://github.com/lifecycle-project/ds-dictionaries/tree/master/changelogs</a>).</p>
</blockquote>
<blockquote>
<p><strong>IMPORTANT</strong> You can specify your upload format! So you
do not have to export to CSV first. Supported upload formats are:
â€˜SPSSâ€™, â€˜SASâ€™, â€˜STATAâ€™ and â€˜CSVâ€™.</p>
</blockquote>
<div class="section level5">
<h5 id="import-the-data">Import the data<a class="anchor" aria-label="anchor" href="#import-the-data"></a>
</h5>
<p>If you run these commands, your data will be uploaded to the
DataSHIELD backend. If you use Opal, you can now import these data into
the tables manually.</p>
<p>A video guiding you through the process can be found here: <a href="https://youtu.be/BKDnIAQzpdY" class="external-link">import data into Opal</a></p>
<p>Alternatively, execute these actions for Opal:</p>
<ol style="list-style-type: decimal">
<li>Navigate to the Opal webinterface</li>
<li>Login with you credentials</li>
<li>Select â€œProjectsâ€</li>
<li>Select â€œlc_#cohort#_#dict_kind#_x_xâ€</li>
<li>Select â€œImportâ€</li>
<li>Choose the CSV-file</li>
<li>Select the target table (depending on your choice regarding the file
you have chosen)</li>
<li>Click on â€œNextâ€</li>
<li>Click on â€œNextâ€</li>
<li>Determine that you all variables are matched, otherwise you need to
fix your source-data first</li>
</ol>
<blockquote>
<p><strong>IMPORTANT</strong>: make sure no NEW variables are introduce
11. Click on â€œFinishâ€ 12. Check the â€œTask logsâ€ (on the left side of the
screen, in the icon bar)</p>
</blockquote>
<p>It will match your data dictionary and determine which variables are
matched or not. You can re-upload the source files as often as
needed.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mariska Slofstra, Sido Haakma, Angela Pinot de Moira, Maxime Cornet, Sebastian Rauschert.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
